<html>
  <head></head>
  <body>
    <script>
      function mergeSort (array) {
        if (array.length <= 1) {
          return array
        }
        let middle = Math.floor(array.length / 2)
        const leftArray = mergeSort(array.slice(0, middle))
        const rightArray = mergeSort(array.slice(middle, array.length))
        return mergeArray(leftArray, rightArray)
      }

      function mergeArray(leftArray, rightArray) {
        let arr = []
        while (leftArray.length && rightArray.length) {
          let minValue = 0;
          if (leftArray[0] <= rightArray[0]) {
            minValue = leftArray.shift()
          } else {
            minValue = rightArray.shift()
          }
          arr.push(minValue)
        };
        if (leftArray.length) {
          arr = arr.concat(leftArray)
        }

        if (rightArray.length) {
          arr = arr.concat(rightArray)
        }
        return arr
      }
      // console.log(mergeSort([3, 9, 10, 6, 1, 2, 11, 8, 5]))

      function quickSort(array, lowIndex = 0, heightIndex = array.length - 1) {
        const partition = (lowIndex, heightIndex) => {
          const swap = (partitionIndex, currentIndex) => {
            [array[currentIndex], array[partitionIndex]] = [array[partitionIndex], array[currentIndex]]
          }
          let pivot = array[heightIndex]
          let partitionIndex = lowIndex
          for (let currentIndex = lowIndex; currentIndex < heightIndex; currentIndex++) {
            if (array[currentIndex] < pivot) {
              swap(partitionIndex, currentIndex)
              partitionIndex++
            }
          }
          swap(partitionIndex, heightIndex)
          return partitionIndex
        }

        if (lowIndex < heightIndex) {
          const partitionIndex = partition(lowIndex, heightIndex)
          quickSort(array, lowIndex, partitionIndex - 1)
          quickSort(array, partitionIndex + 1, heightIndex)
        }
        return array
      }
      console.log(quickSort([3, 9, 10, 6, 1, 2, 11, 8, 5]))
    </script>
  </body>
</html>
